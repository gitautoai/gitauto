```CircleCI Build Log: yarn test
[2K[1G[1myarn run v1.22.22[22m
[2K[1G[2m$ craco test --watchAll=false --coverage=true --verbose=true[22m
PASS test/utils/timeout.test.ts (10.698 s)
  timeout
    when timeout has not occurred
      âœ“ should return false when start time equals current time (19 ms)
      âœ“ should return false when elapsed time is less than time limit (1 ms)
      âœ“ should return false when elapsed time equals time limit (1 ms)
      âœ“ should return false for very recent start time (1 ms)
      âœ“ should handle edge case with startTime in the future
    when timeout has occurred
      âœ“ should return true when elapsed time exceeds time limit by 1ms
      âœ“ should return true when elapsed time significantly exceeds time limit (1 ms)
      âœ“ should return true for very old start times
    edge cases
      âœ“ should handle zero start time correctly (1 ms)
      âœ“ should use the correct time limit of 28.9 seconds (1 ms)
      âœ“ should work with real timestamps without mocking

PASS test/utils/wrapEmails.test.ts (10.9 s)
  wrapEmails
    âœ“ should not adjust strings without the @ symbol (3 ms)
    âœ“ should wrap an email with escaped double quotes
    âœ“ should wrap just the part of the string with an @ in double quotes (1 ms)
    âœ“ should wrap multiple strings with @ in double quotes and nothing else (1 ms)

PASS test/utils/getEnv.test.ts (12.388 s)
  getEnv
    Jest environment setup
      âœ“ should configure dotenv when Jest is running (1077 ms)
      âœ“ should not configure dotenv when Jest is not running (4 ms)
    environment variable validation
      âœ“ should throw error when required environment variable is missing (287 ms)
      âœ“ should throw error when environment variable is empty string (83 ms)
      âœ“ should not throw error when all required environment variables are set (16 ms)
      âœ“ should validate all required environment variables (281 ms)
    getEnv function
      âœ“ should return environment variables as Env type (24 ms)
      âœ“ should return the same values as process.env for required variables (90 ms)
      âœ“ should cast process.env to Env type with non-nullable fields (6 ms)

PASS test/components/Modal/Modal.test.tsx (13.202 s)
  Modal
    âœ“ Basic Render (296 ms)
    âœ“ if no children, return null (70 ms)
    âœ“ handle close (100 ms)
    âœ“ It should pass custom classname to modal (16 ms)

PASS test/components/Header/UserSetting.test.tsx (13.492 s)
  <UserSetting />
    âœ“ should render username (496 ms)
    âœ“ should display and hide logout button whenever username on Header component clicked (123 ms)
    âœ“ should call logout function whenever 'Log Out' button is clicked (97 ms)

PASS test/components/Header/NavBarItems.test.tsx (14.209 s)
  <NavBarItems />
    âœ“ should render no navbar items (183 ms)
    âœ“ should render one navbar item (600 ms)
    âœ“ should render two items (106 ms)

PASS test/components/Loading/Loading.test.tsx
  <Loading />
    âœ“ should render loading (292 ms)

PASS test/components/Tabs/Tabs.test.tsx (14.1 s)
  Tabs
    âœ“ Basic Render (608 ms)
    âœ“ Test active tab (26 ms)
    âœ“ Test setActiveTab function (298 ms)

PASS test/pages/Error/Error.test.tsx (14.409 s)
  <Error />
    âœ“ should render normal error message when no errorcode is provided (1019 ms)
    âœ“ should render normal error message when errorcode is not "1" (303 ms)
    âœ“ should render SSO missing attributes message when errorcode is "1" (88 ms)
    âœ“ should handle empty errorcode parameter (98 ms)
    âœ“ should handle multiple query parameters (11 ms)

PASS test/components/SearchBox/SearchBox.test.tsx (15.111 s)
  SearchBox
    âœ“ should have a search icon and input box (1604 ms)
    âœ“ should present value (73 ms)
    âœ“ should present place holder (21 ms)
    âœ“ should trigger onClick when click icon (103 ms)
    âœ“ should trigger onChange and onKeyPress in input (95 ms)
    âœ“ should pass new value to onChange function (7 ms)

PASS test/components/Sidebar/SidebarItem.test.tsx (14.931 s)
  <SidebarItem />
    âœ“ should render sidebar item title with icon (633 ms)
    âœ“ should render only sidebar icon without title (82 ms)
    âœ“ should render no icon with no title (30 ms)

PASS test/components/TableTitle/TableTitle.test.tsx
  <TableTitle />
    âœ“ should render table title (401 ms)

  console.error
    Warning: An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at AuthProvider (/home/circleci/project/src/pages/Login/AuthProvider.tsx:42:32)
        at TestWrapper (/home/circleci/project/test/pages/Login/AuthProvider.test.tsx:47:65)

      56 |         setisLoading(false);
      57 |       } catch (error) {
    > 58 |         setError(error);
         |         ^
      59 |       }
      60 |     };
      61 |     getAuthInfo();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at setError (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at getAuthInfo (src/pages/Login/AuthProvider.tsx:58:9)

  console.error
    Warning: An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at AuthProvider (/home/circleci/project/src/pages/Login/AuthProvider.tsx:42:32)
        at TestWrapper (/home/circleci/project/test/pages/Login/AuthProvider.test.tsx:47:65)

      56 |         setisLoading(false);
      57 |       } catch (error) {
    > 58 |         setError(error);
         |         ^
      59 |       }
      60 |     };
      61 |     getAuthInfo();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at setError (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at getAuthInfo (src/pages/Login/AuthProvider.tsx:58:9)

PASS test/components/Info/Info.test.tsx (15.99 s)
  <Info />
    âœ“ should render items with appropriate border lines between each rows (230 ms)
    âœ“ should render loading (484 ms)
    âœ“ should render error message and refetch button (20 ms)
    âœ“ should call callback function when refetch button is clicked (99 ms)

PASS src/components/Summary/Info/index.test.tsx (16.194 s)
  Info Component
    Basic Rendering
      âœ“ should render the title correctly (316 ms)
      âœ“ should render data entries with formatted labels (13 ms)
      âœ“ should render data values (93 ms)
      âœ“ should wrap values in Tooltip components (94 ms)
    Loading State
      âœ“ should render spinner when loading and no error (7 ms)
      âœ“ should not render data when loading (89 ms)
    Error State
      âœ“ should render error message when there is an error and not loading (80 ms)
      âœ“ should not render data when there is an error (4 ms)
      âœ“ should call refetch function when reload button is clicked (24 ms)
      âœ“ should not call refetch if it is not a function (90 ms)
    Data Filtering
      âœ“ should filter out falsy values from data (181 ms)
    Styled Config
      âœ“ should apply styled config when provided (29 ms)
      âœ“ should render normal values when no styled config is provided (87 ms)
    Border Logic
      âœ“ should apply border classes correctly based on row number and data length (10 ms)

PASS test/Routes.test.tsx (15.796 s)
  <Routes />
    Public routes
      âœ“ should render Login page for root path (208 ms)
      âœ“ should render Error page for /Error path (87 ms)
      âœ“ should render NotFound page for unknown paths (8 ms)
    AuthenticatedRoute - Loading state
      âœ“ should render Loading component when authentication is loading (72 ms)
      âœ“ should render Loading for account route when authentication is loading (33 ms)
      âœ“ should render Loading for policy route when authentication is loading (70 ms)
    AuthenticatedRoute - Unauthenticated state
      âœ“ should redirect to root when accessing dashboard without authentication (24 ms)
      âœ“ should redirect to root when accessing account without authentication (7 ms)
      âœ“ should redirect to root when accessing policy without authentication (88 ms)
    AuthenticatedRoute - Authenticated state
      âœ“ should render Dashboard page when authenticated and accessing dashboard (6 ms)
      âœ“ should render Account page when authenticated and accessing account route (5 ms)
      âœ“ should render Policy page when authenticated and accessing policy route (85 ms)
    Route path matching
      âœ“ should match exact dashboard path (6 ms)
      âœ“ should not match dashboard path with additional segments (4 ms)
      âœ“ should match account path with accountId parameter (3 ms)
      âœ“ should match policy path with both accountId and policyId parameters (68 ms)
    Route priority
      âœ“ should prioritize specific routes over NotFound route (20 ms)
      âœ“ should render NotFound as fallback for unmatched routes (4 ms)

PASS test/App.test.tsx (16.667 s)
  <App />
    âœ“ should render with key components (930 ms)

  console.error
    Warning: An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at AuthProvider (/home/circleci/project/src/pages/Login/AuthProvider.tsx:42:32)

      56 |         setisLoading(false);
      57 |       } catch (error) {
    > 58 |         setError(error);
         |         ^
      59 |       }
      60 |     };
      61 |     getAuthInfo();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at setError (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at getAuthInfo (src/pages/Login/AuthProvider.tsx:58:9)

  console.error
    Warning: An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at AuthProvider (/home/circleci/project/src/pages/Login/AuthProvider.tsx:42:32)
        at TestWrapper (/home/circleci/project/test/pages/Login/AuthProvider.test.tsx:47:65)

      56 |         setisLoading(false);
      57 |       } catch (error) {
    > 58 |         setError(error);
         |         ^
      59 |       }
      60 |     };
      61 |     getAuthInfo();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at setError (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at getAuthInfo (src/pages/Login/AuthProvider.tsx:58:9)

  console.error
    Warning: An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at AuthProvider (/home/circleci/project/src/pages/Login/AuthProvider.tsx:42:32)
        at TestWrapper (/home/circleci/project/test/pages/Login/AuthProvider.test.tsx:47:65)

      56 |         setisLoading(false);
      57 |       } catch (error) {
    > 58 |         setError(error);
         |         ^
      59 |       }
      60 |     };
      61 |     getAuthInfo();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at setError (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at getAuthInfo (src/pages/Login/AuthProvider.tsx:58:9)

PASS test/components/Sidebar/AccountDetails.test.tsx (16.894 s)
  <AccountDetails />
    âœ“ should render all account details (legacy) (169 ms)
    âœ“ should display loading spinner when sidebarDataLoading in Sidebar Context Provider is true (legacy) (3 ms)
    âœ“ should render error if there is an error (legacy) (2 ms)
    when sidebar is expanded
      âœ“ should render all account details with complete data (391 ms)
      âœ“ should render without assignee when assignee is not provided (105 ms)
      âœ“ should render without partner when currentAgency is not provided (90 ms)
      âœ“ should render without agency user when agencyUser is not provided (8 ms)
      âœ“ should hide agency section border when no agency data is present (91 ms)
      âœ“ should show agency section border when agency data is present (8 ms)
    when sidebar is collapsed
      âœ“ should render only icons when collapsed (392 ms)
      âœ“ should have proper styling for collapsed icons (8 ms)
    loading state
      âœ“ should display loading spinner when sidebarDataLoading is true (72 ms)
      âœ“ should display loading spinner in proper container (18 ms)
    error state
      âœ“ should render error message when sidebarError is present (4 ms)
      âœ“ should render error in proper container (7 ms)
    empty data scenarios
      âœ“ should render empty fragment when sidebarData is null and no loading/error (3 ms)
      âœ“ should render empty fragment when context is null (69 ms)
    data destructuring edge cases
      âœ“ should handle partial data gracefully (19 ms)
      âœ“ should handle missing email when agencyUser is present (10 ms)
    CSS classes and styling
      âœ“ should apply correct CSS classes for expanded view (91 ms)
      âœ“ should apply correct CSS classes for collapsed view (9 ms)

PASS src/context/UserContext.test.tsx (16.899 s)
  UserProvider
    Loading States
      âœ“ should show loading when auth is loading (203 ms)
      âœ“ should show loading when getUser query is loading (8 ms)
      âœ“ should show loading when both auth and getUser are loading (71 ms)
      âœ“ should show loading with correct CSS classes (19 ms)
    Error States
      âœ“ should show error message when getUser query fails (79 ms)
      âœ“ should show error with correct CSS classes (28 ms)
      âœ“ should handle different types of Apollo errors (4 ms)
    Authentication Flow
      âœ“ should call getUser when user is authenticated (86 ms)
      âœ“ should not call getUser when user is not authenticated (6 ms)
      âœ“ should clear user data when user becomes unauthenticated (94 ms)
      âœ“ should handle authentication state changes correctly (5 ms)
      âœ“ should handle user with anonymous flag correctly (4 ms)
    User Data Management
      âœ“ should provide user data when getUser query succeeds (3 ms)
      âœ“ should handle null user data from getUser query (3 ms)
      âœ“ should provide undefined user data when not authenticated (66 ms)
      âœ“ should handle undefined data from getUser query (19 ms)
      âœ“ should handle empty data object from getUser query (3 ms)
      âœ“ should update user data when query data changes (8 ms)
      âœ“ should handle different UserInfo properties (20 ms)
    Context Provider
      âœ“ should provide UserContext with correct value (3 ms)
      âœ“ should render children correctly (3 ms)
      âœ“ should handle multiple children (6 ms)
    useEffect Dependencies
      âœ“ should call getUser only when isAuthenticated changes (91 ms)
      âœ“ should update userData when getUserData changes (8 ms)
    Edge Cases
      âœ“ should handle rapid authentication state changes (5 ms)
      âœ“ should handle component unmounting during loading (15 ms)
      âœ“ should handle component unmounting during error state (4 ms)

PASS test/pages/Login/AuthProvider.test.tsx (16.903 s)
  AuthProvider
    Initial state
      âœ“ should provide initial loading state (597 ms)
      âœ“ should provide login and logout functions (99 ms)
    Authentication flow
      âœ“ should fetch user data on mount and set authenticated user (105 ms)
      âœ“ should set anonymous user as not authenticated (76 ms)
      âœ“ should handle fetch error and set error state (25 ms)
      âœ“ should handle user with undefined optional fields correctly (89 ms)
      âœ“ should handle null user response (6 ms)
    Login function
      âœ“ should redirect to auth service login URL (11 ms)
      âœ“ should use current window origin in redirect URL (89 ms)
    Logout function
      âœ“ should redirect to auth service logout URL (6 ms)
    Authentication status calculation
      âœ“ should return false for null user (73 ms)
      âœ“ should return false for anonymous user (21 ms)
      âœ“ should return true for non-anonymous user (97 ms)
      âœ“ should handle user with false anonymous flag (9 ms)
    Component rendering
      âœ“ should render children components (88 ms)
      âœ“ should provide context to child components (9 ms)
      âœ“ should handle multiple children (74 ms)
    Error handling
      âœ“ should handle JSON parsing errors (20 ms)
      âœ“ should handle network errors (7 ms)
      âœ“ should handle HTTP error responses (6 ms)
    useAuth hook
      âœ“ should return AuthContext when used within AuthProvider (87 ms)
      âœ“ should provide consistent context values (8 ms)
    Context value memoization
      âœ“ should update context when user state changes (89 ms)
      âœ“ should handle state transitions correctly (8 ms)
    Edge cases
      âœ“ should handle component unmounting during fetch (5 ms)
      âœ“ should handle empty response object (87 ms)
      âœ“ should handle malformed user data (7 ms)
    Fetch request configuration
      âœ“ should make fetch request with correct parameters (74 ms)
      âœ“ should include credentials in fetch request (21 ms)

PASS test/utils/calTotalPayable.test.ts (17.212 s)
  calTotalPayable
    Credit Card payments
      CAD currency (Canada)
        âœ“ should calculate credit card fee at 2.5% rate for CAD currency (3 ms)
        âœ“ should handle decimal precision correctly (1 ms)
        âœ“ should handle zero values (1 ms)
        âœ“ should handle large amounts (66 ms)
      USD currency (US)
        âœ“ should have zero credit card fee for USD currency (1 ms)
      Other currencies
        âœ“ should treat non-CAD currencies as US (zero fee)
    Non-Credit Card payments
      âœ“ should have zero fees for non-credit card payments (1 ms)
      âœ“ should handle rounding for non-credit card payments (17 ms)
  calTotalPayableWithPaymentPlan
    Credit Card payments
      CAD currency (Canada)
        âœ“ should calculate credit card fee with payment plan for CAD currency (1 ms)
        âœ“ should handle different number of payments (1 ms)
        âœ“ should handle zero transaction fee (1 ms)
        âœ“ should handle single payment
        âœ“ should handle decimal precision correctly (1 ms)
      USD currency (US)
        âœ“ should have zero credit card fee for USD currency with payment plan (1 ms)
        âœ“ should ignore transaction fee for USD currency
      Other currencies
        âœ“ should treat non-CAD currencies as US (zero fee) with payment plan
    Non-Credit Card payments
      âœ“ should have zero fees for non-credit card payments with payment plan (1 ms)
      âœ“ should handle rounding for non-credit card payments with payment plan
    Edge cases
      âœ“ should handle zero values with payment plan (4 ms)
      âœ“ should handle large amounts with payment plan (1 ms)
  Integration tests
    âœ“ should produce different results between regular and payment plan calculations for CAD (1 ms)
    âœ“ should produce same results between regular and payment plan calculations for USD (1 ms)

PASS test/pages/Login/login.test.tsx (17.29 s)
  <Login />
    Loading state
      âœ“ should render Loading component when isLoading is true (197 ms)
    Error state
      âœ“ should render error modal when error exists (377 ms)
      âœ“ should call logout when CLOSE button is clicked in error modal (302 ms)
      âœ“ should render error modal with correct CSS classes (25 ms)
    Unauthenticated state
      âœ“ should render login form when not authenticated (74 ms)
      âœ“ should call login when Login button is clicked (128 ms)
      âœ“ should render login form with correct CSS classes (90 ms)
    Authenticated state
      âœ“ should redirect to dashboard when authenticated (8 ms)
    State combinations
      âœ“ should prioritize loading state over other states (6 ms)
      âœ“ should prioritize error state over unauthenticated state (85 ms)

PASS test/components/Table/Pagination.test.tsx (17.2 s)
  <Pagination />
    Rendering behavior
      âœ“ should render nothing when currentPage is 0 (99 ms)
      âœ“ should render nothing when paginationRange length is less than 2 (91 ms)
      âœ“ should render nothing when dataSize is 0 (4 ms)
      âœ“ should render nothing when pageSize is larger than dataSize (4 ms)
    Basic pagination scenarios
      âœ“ should render [<, 1, 2, 3, 4, >] for simple pagination (100 ms)
      âœ“ should render single page correctly (3 ms)
      âœ“ should render two pages correctly (93 ms)
    Complex pagination scenarios
      âœ“ should render [<, 1, 2, 3, 4, 5, ..., 12, >] - right dots only (74 ms)
      âœ“ should render [<, 1, ..., 8, 9, 10, 11, 12, >] - left dots only (126 ms)
      âœ“ should render [<, 1, ..., 4, 5, 6, ..., 12, >] - both dots (93 ms)
    Navigation functionality
      âœ“ should handle previous and next buttons correctly (15 ms)
      âœ“ should not navigate beyond last page with next button (91 ms)
      âœ“ should not navigate before first page with previous button (5 ms)
      âœ“ should handle dots click correctly (should not trigger onPageChange) (93 ms)
      âœ“ should handle page number click correctly (8 ms)
    Different siblingCount values
      âœ“ should handle siblingCount = 0 (71 ms)
      âœ“ should handle siblingCount = 2 (19 ms)
      âœ“ should handle large siblingCount (8 ms)
    Edge cases and boundary conditions
      âœ“ should handle very large datasets (4 ms)
      âœ“ should handle pageSize = 1 (66 ms)
      âœ“ should handle fractional page calculations (18 ms)
      âœ“ should handle currentPage at the beginning with dots (9 ms)
      âœ“ should handle currentPage at the end with dots (72 ms)
    CSS classes and styling
      âœ“ should apply correct CSS classes to current page (17 ms)
      âœ“ should apply correct CSS classes to non-current pages (5 ms)
      âœ“ should apply correct CSS classes to dots (7 ms)
      âœ“ should apply correct CSS classes to arrow buttons (70 ms)
      âœ“ should apply correct CSS classes to pagination container (21 ms)
    Integration scenarios
      âœ“ should handle page navigation correctly (9 ms)
      âœ“ should handle navigation with arrow keys and page clicks combined (13 ms)

PASS test/components/Sidebar/Sidebar.test.tsx (17.49 s)
  <Sidebar />
    âœ“ should be hidden on non broker portal pages (393 ms)
    âœ“ should render dashboard items on dashboard page (14 ms)
    âœ“ should render account items on account page (81 ms)
    âœ“ should items are hidden when collapse button is clicked (95 ms)

  console.error
    Warning: An update to Header inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Header (/home/circleci/project/src/components/Header/index.tsx:23:51)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at dispatchAction (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at node_modules/@apollo/client/react/hooks/utils/useBaseQuery.js:17:85

PASS test/components/AutoComplete/AutoComplete.test.tsx (18.498 s)
  AutoComplete
    âœ“ should toggle option list whenever input box focused and unfocused (1093 ms)
    âœ“ should toggle option list whenever toggle button is clicked (180 ms)
    âœ“ should update prop.value to the option user clicked (225 ms)
    âœ“ should focus on items on options list whenever press tab key from input box (502 ms)
    âœ“ should update prop.value to the focused option when enter key is pressed on focused option (205 ms)
    âœ“ should hide option list when tab is pressed more than options number (195 ms)
    âœ“ should filter option list based on user input (194 ms)
    âœ“ should show no options text when there is no option to choose (79 ms)
    âœ“ should be able to search partner irrespective of text case if caseSensitive is not passed in and uses default value of false (98 ms)
    âœ“ should be able to search partner irrespective of text case if caseSensitive is passed in with a value of false (104 ms)
    âœ“ should be able to search only partners with correct case if caseSensitive is passed in with a value of true (118 ms)

PASS test/styles/styledConfig.test.tsx (18.21 s)
  styledConfig tests
    formatPolicyStatus()
      âœ“ should return correct status text (Active) (90 ms)
      âœ“ should return correct status text (FutureActive) (6 ms)
      âœ“ should return correct status text (FutureCancel) (78 ms)
      âœ“ should return correct status text (Cancelled) (5 ms)
      âœ“ should return correct status text (Expired) (6 ms)
      âœ“ should return correct status text (NotBound) (4 ms)
      âœ“ should return correct status text (PendingRenewal) (4 ms)
      âœ“ should return correct status text (RenewedActive) (4 ms)
      âœ“ should return correct status text (RenewedFutureActive) (4 ms)
      âœ“ should return correct status text (NotTaken) (57 ms)
      âœ“ should return empty span (non-String type) (26 ms)
    formatPremium()
      âœ“ should return correct premium number (Object) (4 ms)
      âœ“ should return correct premium number (String) (3 ms)
      âœ“ should return correct premium number (Number) (3 ms)
      âœ“ should return empty span (non-Object / String / Number type) (3 ms)
    formatDate()
      âœ“ should return formatted date (59 ms)
      âœ“ should return "No date found" (non-String or empty String) (19 ms)
    formatPhoneNumber()
      âœ“ should return formatted date (String) (3 ms)
      âœ“ should return formatted date (Number) (4 ms)
      âœ“ should return empty span (non-String / Number type) (8 ms)
    formatDownload()
      âœ“ should return a download icon (String) (104 ms)
      âœ“ should return empty Fragment (non-String type) (81 ms)
    formatPolicyNumber()
      âœ“ should return policy number with renewal suffix if policy status is pending renewal (single digit) (4 ms)
      âœ“ should return policy number with renewal suffix if policy status is pending renewal (double digit) (3 ms)
      âœ“ should return "TBD: Application NOT signed" if T&C is not signed (2 ms)
      âœ“ should return policy link (3 ms)
      âœ“ should return empty span (non-String type) (5 ms)

  console.error
    Warning: An update to Header inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Header (/home/circleci/project/src/components/Header/index.tsx:23:51)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at dispatchAction (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at node_modules/@apollo/client/react/hooks/utils/useBaseQuery.js:17:85

  console.error
    Warning: An update to Header inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Header (/home/circleci/project/src/components/Header/index.tsx:23:51)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)

      23 |   const [modalContent, setModalContent] = useState<React.ReactNode>();
      24 |   const onClickItem = useCallback(
    > 25 |     (content: React.ReactElement | null) => () => setModalContent(content),
         |                                                   ^
      26 |     []
      27 |   );
      28 |

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at setModalContent (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at Object.handleClose (src/components/Header/index.tsx:25:51)
      at Object.<anonymous> (test/components/Header/Header.test.tsx:398:18)

PASS test/components/Table/Table.test.tsx (18.097 s)
  <Table />
    Basic rendering
      âœ“ should render table with data (268 ms)
      âœ“ should render with no data (4 ms)
      âœ“ should render with null data (3 ms)
      âœ“ should render with undefined data (3 ms)
    Loading and error states
      âœ“ should render loading status (294 ms)
      âœ“ should render with error message (5 ms)
      âœ“ should render loading state with proper structure (7 ms)
      âœ“ should render error state with proper structure (5 ms)
      âœ“ should prioritize error message over loading state (4 ms)
    Column exclusion
      âœ“ should render table with specified columns removed (76 ms)
      âœ“ should render table with specified empty columns removed from data (7 ms)
      âœ“ should render table with unspecified empty columns present data (8 ms)
      âœ“ should handle multiple excluded columns (79 ms)
      âœ“ should handle both excludeColumns and excludeColumnsIfEmpty (6 ms)
    Data filtering and processing
      âœ“ should filter out __typename from data (7 ms)
      âœ“ should handle data without __typename (5 ms)
      âœ“ should handle empty columns with different empty values (68 ms)
      âœ“ should handle columns that are missing from some rows (18 ms)
      âœ“ should handle data with only __typename field (2 ms)
    Header formatting
      âœ“ should format camelCase headers correctly (7 ms)
      âœ“ should format single word headers correctly (5 ms)
      âœ“ should format headers with multiple capital letters (81 ms)
      âœ“ should handle headers starting with lowercase (5 ms)
    Styled configuration
      âœ“ should apply styled config to specific columns (7 ms)
      âœ“ should pass row data to styled config functions (5 ms)
      âœ“ should handle styled config with different data types (6 ms)
      âœ“ should render without styled config (58 ms)
      âœ“ should handle styled config with column order mismatch (20 ms)
    Multiple rows handling
      âœ“ should render multiple rows correctly (8 ms)
      âœ“ should handle rows with different column structures (8 ms)
      âœ“ should maintain correct row keys (5 ms)
    CSS classes and structure
      âœ“ should apply correct CSS classes to table elements (76 ms)
    Edge cases
      âœ“ should handle empty string values (5 ms)
      âœ“ should handle null and undefined values (7 ms)
      âœ“ should handle boolean values (6 ms)
      âœ“ should handle numeric values (6 ms)
      âœ“ should handle array and object values (59 ms)
      âœ“ should handle single row data (18 ms)
    Utility functions behavior
      removeColumns function
        âœ“ should remove specified columns from data (5 ms)
        âœ“ should handle empty excludeColumns array (3 ms)
        âœ“ should handle undefined excludeColumns (3 ms)
        âœ“ should handle non-existent column names in excludeColumns (4 ms)
        âœ“ should handle removing all columns (2 ms)
      getEmptyColumns function
        âœ“ should identify columns with empty string values (62 ms)
        âœ“ should identify columns with null values (17 ms)
        âœ“ should identify columns with undefined values (4 ms)
        âœ“ should identify columns missing from objects (4 ms)
        âœ“ should not remove columns that have values in some rows (5 ms)
        âœ“ should handle undefined columnsToCheck parameter (3 ms)
        âœ“ should handle empty columnsToCheck array (4 ms)
        âœ“ should handle mixed empty value types (4 ms)
      joinArrays function
        âœ“ should combine excludeColumns and empty columns (57 ms)
        âœ“ should handle when both arrays are undefined (4 ms)
        âœ“ should handle when one array is undefined (17 ms)
        âœ“ should handle when the other array is undefined (3 ms)
        âœ“ should handle overlapping columns in both arrays (3 ms)
        âœ“ should handle empty arrays (3 ms)
      Data processing integration
        âœ“ should handle complex data processing scenario (5 ms)
        âœ“ should maintain data integrity after processing (4 ms)
  Additional Table edge cases
    âœ“ should handle data with zero-length after column removal (3 ms)
    âœ“ should handle empty error message (1 ms)
    âœ“ should handle data where first row has no keys after processing (2 ms)
    âœ“ should handle data with only falsy values (55 ms)

  console.error
    Warning: An update to Header inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Header (/home/circleci/project/src/components/Header/index.tsx:23:51)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at dispatchAction (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at node_modules/@apollo/client/react/hooks/utils/useBaseQuery.js:17:85

  console.error
    Warning: An update to Header inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Header (/home/circleci/project/src/components/Header/index.tsx:23:51)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at dispatchAction (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at node_modules/@apollo/client/react/hooks/utils/useBaseQuery.js:17:85

  console.error
    Warning: An update to Header inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Header (/home/circleci/project/src/components/Header/index.tsx:23:51)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at dispatchAction (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at node_modules/@apollo/client/react/hooks/utils/useBaseQuery.js:17:85

PASS test/components/Header/Header.test.tsx (18.317 s)
  <Header />
    Basic rendering
      âœ“ should render header with logo and basic structure (141 ms)
      âœ“ should render correct logo link for admin portal (135 ms)
      âœ“ should render correct logo link for broker portal (64 ms)
    Authentication states
      âœ“ should not render user setting when not authenticated (21 ms)
      âœ“ should render user setting when authenticated (6 ms)
      âœ“ should handle user with no given name (5 ms)
      âœ“ should handle null user (5 ms)
    Navigation based on routes
      âœ“ should render "Go to Updated Site" link on admin portal (85 ms)
      âœ“ should render NavBarItems on dashboard page (8 ms)
      âœ“ should render NavBarItems on account page (not policy) (8 ms)
      âœ“ should not render NavBarItems on policy page (5 ms)
      âœ“ should not render NavBarItems on other pages (58 ms)
    New Account button functionality
      âœ“ should call isInternalUser query when no cache exists (314 ms)
      âœ“ should call getUnderwritingUrl for external user (82 ms)
    Modal functionality
      âœ“ should close modal when handleClose is called (25 ms)
    useEffect for underwriting URL
      âœ“ should open window when getUnderwritingUrlData is available (73 ms)
      âœ“ should not open window when getUnderwritingUrlData is undefined (4 ms)
    Error handling
      âœ“ should handle GraphQL errors gracefully (18 ms)
      âœ“ should handle missing user data gracefully (6 ms)
    Button interactions
      âœ“ should handle New Account button click without errors (10 ms)
    Component integration
      âœ“ should pass correct props to Modal component (3 ms)
      âœ“ should pass correct props to NavBarItems component on dashboard (4 ms)
      âœ“ should pass correct props to NavBarItems component on account page (75 ms)
      âœ“ should render empty navbar component when no conditions are met (3 ms)
    Route-specific behavior
      âœ“ should handle admin portal route correctly (7 ms)
      âœ“ should handle account page with policy correctly (5 ms)

PASS test/components/Tooltip/Tooltip.test.tsx (17.903 s)
  <Tooltip />
    âœ“ should display tooltip below value when mouse over on value (274 ms)
    âœ“ should hide tooltip when mouse out from value (19 ms)
    âœ“ should display 'Copied!' message on tooltip when it is clicked and copy tooltip content to clipboard (85 ms)

PASS test/components/ToggleButton/ToggleButton.test.tsx (18.812 s)
  <ToggleButton />
    âœ“ should render left and right buttons (236 ms)
    âœ“ should change buttons styles based on which button is clicked (Clicked button has its bg color) (103 ms)

PASS test/components/Boolean/Boolean.test.tsx (19.44 s)
  <Boolean />
    âœ“ should render 'Yes' button with navy colored text, 'No' button with white colored text when value is true (183 ms)
    âœ“ should render 'Yes' button with white colored text, 'No' button with navy colored text when value is false (26 ms)
    âœ“ should call callback function whenever 'Yes' or 'No' button is clicked (24 ms)

  console.error
    Warning: An update to Dashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Dashboard (/home/circleci/project/src/pages/Dashboard/index.tsx:14:49)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at dispatchAction (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at node_modules/@apollo/client/react/hooks/utils/useBaseQuery.js:17:85

  console.warn
    Material-UI: You have provided an out-of-range value `nonexistent` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are `1`, `2`, `3`.

      at node_modules/@material-ui/core/Select/SelectInput.js:366:17
      at invokePassiveEffectCreate (node_modules/react-dom/cjs/react-dom.development.js:23487:20)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:3945:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)

  console.warn
    Material-UI: You have provided an out-of-range value `nonexistent` for the select component.
    Consider providing a value that matches one of the available options or ''.
    The available values are `1`, `2`, `3`.

      at node_modules/@material-ui/core/Select/SelectInput.js:366:17
      at invokePassiveEffectCreate (node_modules/react-dom/cjs/react-dom.development.js:23487:20)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:3945:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)

PASS test/pages/Dashboard/index.test.tsx (19.807 s)
  Dashboard
    Initial render
      âœ“ should render search box with correct placeholder (162 ms)
      âœ“ should render with empty search input initially (8 ms)
      âœ“ should not render table or pagination initially (7 ms)
    Search functionality
      âœ“ should update search input value when typing (294 ms)
      âœ“ should navigate with search query when Enter key is pressed (118 ms)
      âœ“ should navigate with search query when search button is clicked (156 ms)
      âœ“ should not navigate when search button is clicked with empty input (31 ms)
      âœ“ should handle special characters in search input (212 ms)
    URL search parameter handling
      âœ“ should initialize search input from URL parameter (122 ms)
      âœ“ should call wrapEmails utility for email searches (51 ms)
    Error state
      âœ“ should show error table when query has error (22 ms)
    Integration scenarios
      âœ“ should handle search input change and URL navigation together (198 ms)
    Edge cases
      âœ“ should handle undefined search input gracefully (4 ms)
      âœ“ should handle malformed URL parameters (4 ms)
      âœ“ should handle empty string search input from URL (3 ms)
      âœ“ should handle URL decoding correctly (45 ms)
    useEffect dependency behavior
      âœ“ should trigger query when searchInputFromPath changes (24 ms)

  console.error
    Warning: An update to Dashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Dashboard (/home/circleci/project/src/pages/Dashboard/index.tsx:14:49)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at dispatchAction (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at node_modules/@apollo/client/react/hooks/utils/useBaseQuery.js:17:85

  console.error
    Warning: An update to Dashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at Dashboard (/home/circleci/project/src/pages/Dashboard/index.tsx:14:49)
        at Router (/home/circleci/project/node_modules/react-router/cjs/react-router.js:99:30)
        at MemoryRouter (/home/circleci/project/node_modules/react-router/cjs/react-router.js:187:35)
        at ApolloProvider (/home/circleci/project/node_modules/@apollo/client/react/context/ApolloProvider.js:5:21)
        at MockedProvider (/home/circleci/project/node_modules/@apollo/client/utilities/testing/mocking/MockedProvider.js:10:28)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnIfNotCurrentlyActingUpdatesInDEV (node_modules/react-dom/cjs/react-dom.development.js:24064:9)
      at dispatchAction (node_modules/react-dom/cjs/react-dom.development.js:16135:9)
      at node_modules/@apollo/client/react/hooks/utils/useBaseQuery.js:17:85

PASS test/pages/Policy/ActionButtons.test.tsx (19.972 s)
  ActionButtons
    âœ“ renders EndorsementButton, RenewalButton, CancellationButton, and COI components when policy is active and eligible to renew (30 ms)
    âœ“ should hide renewal button when policy is renewed (active) (9 ms)
    âœ“ should hide renewal button when policy is renewed (future active) (9 ms)
    âœ“ should hide renewal button when policy is future cancel (7 ms)
    âœ“ returns null if inputData is not provided (5 ms)
    âœ“ returns null if user is not a platform admin (3 ms)
    âœ“ returns null if policy is cancelled (17 ms)

  console.error
    Could not find icon { prefix: 'fas', iconName: 'icon' }

      at log (node_modules/@fortawesome/react-fontawesome/index.js:285:34)
      at node_modules/@fortawesome/react-fontawesome/index.js:359:7
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:17044:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:19098:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:23940:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:22779:12)

  console.error
    Could not find icon { prefix: 'fas', iconName: 'icon' }

      at log (node_modules/@fortawesome/react-fontawesome/index.js:285:34)
      at node_modules/@fortawesome/react-fontawesome/index.js:359:7
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:17044:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:19098:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:23940:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:22779:12)

  console.error
    Could not find icon { prefix: 'fas', iconName: 'icon' }

      at log (node_modules/@fortawesome/react-fontawesome/index.js:285:34)
      at node_modules/@fortawesome/react-fontawesome/index.js:359:7
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:17044:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:19098:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:23940:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:22779:12)

  console.error
    Could not find icon { prefix: 'fas', iconName: 'icon' }

      at log (node_modules/@fortawesome/react-fontawesome/index.js:285:34)
      at node_modules/@fortawesome/react-fontawesome/index.js:359:7
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:17044:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:19098:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:23940:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:22779:12)

  console.error
    Could not find icon { prefix: 'fas', iconName: 'icon' }

      at log (node_modules/@fortawesome/react-fontawesome/index.js:285:34)
      at node_modules/@fortawesome/react-fontawesome/index.js:359:7
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:17044:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:19098:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:23940:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:22779:12)

  console.error
    Could not find icon { prefix: 'fas', iconName: 'icon' }

      at log (node_modules/@fortawesome/react-fontawesome/index.js:285:34)
      at node_modules/@fortawesome/react-fontawesome/index.js:359:7
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:17044:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:19098:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:23940:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:22779:12)

PASS test/pages/Policy/GoToUnderwriting.test.tsx (19.647 s)
  GoToUnderwriting
    âœ“ renders without crashing (83 ms)
    âœ“ displays loading overlay when loading is true (9 ms)
    âœ“ displays error modal when error is present (12 ms)
    âœ“ shows correct transaction type lable in button (6 ms)
    âœ“ calls fetch with correct parameters on button click (71 ms)
    âœ“ handles fetch function being undefined (10 ms)

  console.error
    Could not find icon { prefix: 'fas', iconName: 'icon' }

      at log (node_modules/@fortawesome/react-fontawesome/index.js:285:34)
      at node_modules/@fortawesome/react-fontawesome/index.js:359:7
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:17044:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:19098:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:23940:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:22779:12)

  console.error
    Material-UI: The `fade` color utility was renamed to `alpha` to better describe its functionality.
    
    You should use `import { alpha } from '@material-ui/core/styles'`

      at Object.fade (node_modules/@material-ui/core/styles/colorManipulator.js:259:15)
      at Object.<anonymous>.styles$5.makeStyles.name (node_modules/@material-ui/src/_shared/ToolbarText.tsx:21:16)
      at Object.create (node_modules/@material-ui/styles/getStylesCreator/getStylesCreator.js:32:35)
      at attach (node_modules/@material-ui/styles/makeStyles/makeStyles.js:113:32)
      at node_modules/@material-ui/styles/makeStyles/makeStyles.js:258:7
      at useSynchronousEffect (node_modules/@material-ui/styles/makeStyles/makeStyles.js:211:14)
      at useStyles (node_modules/@material-ui/styles/makeStyles/makeStyles.js:250:5)

PASS test/pages/Policy/Cancellation.test.tsx (19.999 s)
  <Cancellation />
    âœ“ should render cancellation modal for cancel type (203 ms)
    âœ“ for non-renewal type, should disaplay non-renewal reasons (53 ms)
    âœ“ isCancellationButtonActive returns true (1 ms)

  console.error
    Warning: Encountered two children with the same key, `.$.$.$1`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â€” the behavior is unsupported and could change in a future version.
        at ul
        at List (/home/circleci/project/node_modules/@material-ui/core/List/List.js:51:24)
        at WithStyles (/home/circleci/project/node_modules/@material-ui/styles/withStyles/withStyles.js:67:31)
        at MenuList (/home/circleci/project/node_modules/@material-ui/core/MenuList/MenuList.js:117:23)
        at div
        at Paper (/home/circleci/project/node_modules/@material-ui/core/Paper/Paper.js:55:23)
        at WithStyles (/home/circleci/project/node_modules/@material-ui/styles/withStyles/withStyles.js:67:31)
        at Transition (/home/circleci/project/node_modules/@material-ui/core/node_modules/react-transition-group/cjs/Transition.js:133:30)
        at Grow (/home/circleci/project/node_modules/@material-ui/core/Grow/Grow.js:51:24)
        at Unstable_TrapFocus (/home/circleci/project/node_modules/@material-ui/core/Unstable_TrapFocus/Unstable_TrapFocus.js:30:24)
        at div
        at Portal (/home/circleci/project/node_modules/@material-ui/core/Portal/Portal.js:39:24)
        at Modal (/home/circleci/project/node_modules/@material-ui/core/Modal/Modal.js:94:36)
        at Popover (/home/circleci/project/node_modules/@material-ui/core/Popover/Popover.js:118:22)
        at WithStyles (/home/circleci/project/node_modules/@material-ui/styles/withStyles/withStyles.js:67:31)
        at Menu (/home/circleci/project/node_modules/@material-ui/core/Menu/Menu.js:67:32)
        at WithStyles (/home/circleci/project/node_modules/@material-ui/styles/withStyles/withStyles.js:67:31)
        at SelectInput (/home/circleci/project/node_modules/@material-ui/core/Select/SelectInput.js:59:24)
        at div
        at InputBase (/home/circleci/project/node_modules/@material-ui/core/InputBase/InputBase.js:219:30)
        at WithStyles (/home/circleci/project/node_modules/@material-ui/styles/withStyles/withStyles.js:67:31)
        at Input (/home/circleci/project/node_modules/@material-ui/core/Input/Input.js:137:32)
        at WithStyles (/home/circleci/project/node_modules/@material-ui/styles/withStyles/withStyles.js:67:31)
        at Select (/home/circleci/project/node_modules/@material-ui/core/Select/Select.js:50:32)
        at WithStyles (/home/circleci/project/node_modules/@material-ui/styles/withStyles/withStyles.js:67:31)
        at div
        at SelectInput (/home/circleci/project/src/components/SelectInput/index.tsx:21:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:67:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:43:5)
      at warnOnInvalidKey (node_modules/react-dom/cjs/react-dom.development.js:13620:11)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13651:21)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14125:14)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:16990:28)
      at updateFragment (node_modules/react-dom/cjs/react-dom.development.js:17294:3)

PASS test/components/DatePicker/DatePicker.test.tsx (21.362 s)
  CustomDatePicker
    Basic Rendering
      âœ“ should render the DatePicker component (197 ms)
      âœ“ should render with custom id (73 ms)
      âœ“ should render without id when not provided (90 ms)
      âœ“ should render KeyboardDatePicker with correct CSS classes (34 ms)
    Value Handling
      âœ“ should initialize with empty value when no value is provided (147 ms)
      âœ“ should initialize with provided value (40 ms)
      âœ“ should handle null value (64 ms)
      âœ“ should handle undefined value (38 ms)
      âœ“ should call onChange when date is changed (100 ms)
      âœ“ should call onChange with null when invalid date is entered (68 ms)
    Date Constraints
      âœ“ should accept minDate prop (25 ms)
      âœ“ should accept maxDate prop (22 ms)
      âœ“ should work with both minDate and maxDate (41 ms)
      âœ“ should handle null minDate (26 ms)
      âœ“ should handle null maxDate (17 ms)
    ReadOnly Mode
      âœ“ should render in readOnly mode when specified (28 ms)
      âœ“ should not be readOnly by default (53 ms)
      âœ“ should handle readOnly false explicitly (35 ms)
    Date Picker Interaction
      âœ“ should handle click events (263 ms)
      âœ“ should handle keyboard events (34 ms)
      âœ“ should handle focus events (35 ms)
    Custom Date Validation
      âœ“ should accept shouldDisableDate function (15 ms)
      âœ“ should work without shouldDisableDate function (17 ms)
      âœ“ should handle shouldDisableDate that returns true (18 ms)
      âœ“ should handle null shouldDisableDate (15 ms)
    Date Format
      âœ“ should use yyyy-MM-dd format (31 ms)
      âœ“ should handle different date formats in input (62 ms)
    Theme Integration
      âœ“ should render with Material-UI theme provider (16 ms)
      âœ“ should render with MuiPickersUtilsProvider (24 ms)
    Component State Management
      âœ“ should maintain internal state when value changes (27 ms)
      âœ“ should handle rapid prop changes (37 ms)
    Edge Cases
      âœ“ should handle component unmounting gracefully (15 ms)
      âœ“ should handle invalid Date objects (15 ms)
      âœ“ should handle extreme dates (27 ms)
      âœ“ should handle future dates (25 ms)
    Accessibility
      âœ“ should have proper role attribute (26 ms)
      âœ“ should be keyboard accessible (27 ms)
      âœ“ should support tab navigation (26 ms)
    Error Handling
      âœ“ should handle onChange callback without errors (31 ms)
      âœ“ should handle missing required props gracefully (15 ms)
    Performance
      âœ“ should handle multiple re-renders efficiently (126 ms)
      âœ“ should not cause memory leaks with frequent prop changes (210 ms)

FAIL test/components/NewAccount/NewAccount.test.tsx (22.052 s)
  <NewAccount />
    Initial Rendering
      âœ“ should render initial UI elements correctly (207 ms)
      âœ“ should export AgencyType enum correctly (1 ms)
    Boolean Toggle Functionality
      âœ“ should toggle between Yes and No correctly (312 ms)
    Agency Selection Flow
      âœ“ should render agency selection when partner is selected (70 ms)
      âœ“ should handle agency selection and trigger user query for non-enterprise agency (187 ms)
      âœ“ should not show user selection for enterprise agency (147 ms)
    User Selection Flow
      âœ“ should handle user selection correctly (196 ms)
    Loading States
      âœ“ should show spinner when agencies are loading (111 ms)
      âœ“ should show spinner when users are loading (190 ms)
    Button Functionality
      âœ“ should open underwriting URL when Start Application is clicked (93 ms)
      âœ“ should not open URL when Start Application is clicked without URL (34 ms)
      âœ• should copy URL to clipboard when copy button is clicked (85 ms)
      âœ“ should not copy when copy button is clicked without URL (34 ms)
    State Management and Effects
      âœ“ should reset selected user when agency changes (259 ms)
      âœ“ should clear URL when agency changes (224 ms)
      âœ“ should clear selections when toggling from partner to no partner (184 ms)
    Edge Cases and Error Scenarios
      âœ“ should handle empty agency list (46 ms)
      âœ“ should handle empty user list (113 ms)
      âœ“ should handle missing underwriting URL data (55 ms)
    Complete User Flows
      âœ• should complete full B2B2C flow with agency and user selection (212 ms)
      âœ• should complete full B2C flow without agency selection (115 ms)
      âœ• should complete enterprise agency flow without user selection (126 ms)

  â— <NewAccount /> â€º Button Functionality â€º should copy URL to clipboard when copy button is clicked

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://test-underwriting-url.com"

    Number of calls: 0

      614 |       await user.click(copyButton);
      615 |
    > 616 |       expect(mockWriteText).toHaveBeenCalledWith(testUrl);
          |                             ^
      617 |       expect(mockAlert).toHaveBeenCalledWith('Application URL copied to clipboard.');
      618 |     });
      619 |

      at Object.<anonymous> (test/components/NewAccount/NewAccount.test.tsx:616:29)

  â— <NewAccount /> â€º Complete User Flows â€º should complete full B2B2C flow with agency and user selection

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://b2b2c-underwriting-url.com"

    Number of calls: 0

      1106 |       // Test Copy URL
      1107 |       await user.click(screen.getByTitle('Copy Application URL'));
    > 1108 |       expect(mockWriteText).toHaveBeenCalledWith(testUrl);
           |                             ^
      1109 |       expect(mockAlert).toHaveBeenCalledWith('Application URL copied to clipboard.');
      1110 |     });
      1111 |

      at Object.<anonymous> (test/components/NewAccount/NewAccount.test.tsx:1108:29)

  â— <NewAccount /> â€º Complete User Flows â€º should complete full B2C flow without agency selection

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://b2c-underwriting-url.com"

    Number of calls: 0

      1165 |
      1166 |       await user.click(screen.getByTitle('Copy Application URL'));
    > 1167 |       expect(mockWriteText).toHaveBeenCalledWith(testUrl);
           |                             ^
      1168 |       expect(mockAlert).toHaveBeenCalledWith('Application URL copied to clipboard.');
      1169 |     });
      1170 |

      at Object.<anonymous> (test/components/NewAccount/NewAccount.test.tsx:1167:29)

  â— <NewAccount /> â€º Complete User Flows â€º should complete enterprise agency flow without user selection

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://enterprise-underwriting-url.com"

    Number of calls: 0

      1241 |
      1242 |       await user.click(screen.getByTitle('Copy Application URL'));
    > 1243 |       expect(mockWriteText).toHaveBeenCalledWith(testUrl);
           |                             ^
      1244 |       expect(mockAlert).toHaveBeenCalledWith('Application URL copied to clipboard.');
      1245 |     });
      1246 |   });

      at Object.<anonymous> (test/components/NewAccount/NewAccount.test.tsx:1243:29)

PASS test/components/SelectInput/SelectInput.test.tsx (27.108 s)
  SelectInput
    Basic Rendering
      âœ“ should render with required props (208 ms)
      âœ“ should render with custom className (20 ms)
      âœ“ should render with custom id (62 ms)
    Component Exports
      âœ“ should export SelectInput as default (1 ms)
      âœ“ should export Choice interface type
    Value Handling
      âœ“ should render with default empty value when no value prop is provided (26 ms)
      âœ“ should render with provided value (57 ms)
      âœ“ should handle empty string value (29 ms)
      âœ“ should handle value that does not match any option (84 ms)
    Options Rendering
      âœ“ should render all provided options (214 ms)
      âœ“ should render options with correct values (123 ms)
      âœ“ should render MenuItem components with correct inline styles (168 ms)
      âœ“ should render with empty options array (40 ms)
      âœ“ should handle null options gracefully (72 ms)
    User Interactions
      âœ“ should call onChange when an option is selected (84 ms)
      âœ“ should call onChange with correct value for different options (133 ms)
      âœ“ should open dropdown when clicked (92 ms)
      âœ“ should close dropdown after selection (68 ms)
    ReadOnly Functionality
      âœ“ should not open dropdown when readOnly is true (18 ms)
      âœ“ should not call onChange when readOnly is true (11 ms)
      âœ“ should work normally when readOnly is false (55 ms)
      âœ“ should have disabled attribute when readOnly is true (24 ms)
    Edge Cases
      âœ“ should handle options with empty text (76 ms)
      âœ“ should handle options with zero value (57 ms)
      âœ“ should handle single option (70 ms)
      âœ“ should handle options with special characters (67 ms)
    Accessibility
      âœ“ should have proper ARIA attributes (22 ms)
      âœ“ should update ARIA attributes when opened (44 ms)
      âœ“ should have proper role attributes for options (77 ms)
      âœ“ should support keyboard navigation (45 ms)
      âœ“ should maintain focus management (43 ms)
    Integration with Controlled Components
      âœ“ should work with controlled components (47 ms)
      âœ“ should handle rapid value changes (22 ms)
    Error Handling
      âœ“ should handle malformed option objects (41 ms)
      âœ“ should handle undefined options gracefully (35 ms)
      âœ“ should handle options with duplicate values (107 ms)
      âœ“ should handle extremely long option text (47 ms)
    CSS and Styling
      âœ“ should apply default CSS classes (10 ms)
      âœ“ should combine default classes with custom className (9 ms)
      âœ“ should handle undefined className gracefully (11 ms)
    Material-UI Integration
      âœ“ should work with Material-UI ThemeProvider (42 ms)
      âœ“ should render Select component with disableUnderline prop (16 ms)
    Performance and Memory
      âœ“ should handle large number of options efficiently (5776 ms)
      âœ“ should not cause memory leaks with frequent re-renders (140 ms)

A worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks.
[999D[K--------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                         
--------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                       |   61.12 |    56.36 |   54.63 |   61.05 |                                                                                                                                                                           
 src                            |      30 |    11.11 |   17.39 |   27.94 |                                                                                                                                                                           
  App.tsx                       |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  Routes.tsx                    |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |       0 |      100 |       0 |       0 | 21-68                                                                                                                                                                     
  sentry.ts                     |       0 |      100 |     100 |       0 | 5-7                                                                                                                                                                       
  serviceWorker.ts              |       0 |        0 |       0 |       0 | 13-146                                                                                                                                                                    
 src/components                 |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  Spinner.tsx                   |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/AutoComplete    |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/Boolean         |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/DatePicker      |   88.88 |      100 |      75 |   88.88 |                                                                                                                                                                           
  index.tsx                     |   88.88 |      100 |      75 |   88.88 | 65                                                                                                                                                                        
 src/components/Header          |   90.24 |       75 |     100 |      90 |                                                                                                                                                                           
  NavBarItems.tsx               |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  UserSetting.tsx               |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |   87.87 |    70.58 |     100 |    87.5 | 75-80                                                                                                                                                                     
 src/components/Loading         |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/Modal           |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/NewAccount      |     100 |    93.02 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |    93.02 |     100 |     100 | 103,182-188                                                                                                                                                               
 src/components/SearchBox       |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/SelectInput     |     100 |     87.5 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |     87.5 |     100 |     100 | 39                                                                                                                                                                        
 src/components/Sidebar         |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  AccountDetails.tsx            |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  SidebarItem.tsx               |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/Summary/Info    |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/Table           |   97.75 |    89.39 |     100 |   97.72 |                                                                                                                                                                           
  Pagination.tsx                |     100 |     92.3 |     100 |     100 | 21,102                                                                                                                                                                    
  index.tsx                     |   95.34 |     87.5 |     100 |   95.34 | 64,109                                                                                                                                                                    
 src/components/TableTitle      |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/Tabs            |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/ToggleButton    |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  index.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/components/Tooltip         |   93.33 |      100 |      80 |     100 |                                                                                                                                                                           
  index.tsx                     |   93.33 |      100 |      80 |     100 |                                                                                                                                                                           
 src/context                    |   96.29 |      100 |      80 |   96.29 |                                                                                                                                                                           
  ContactBarContext.ts          |   66.66 |      100 |       0 |   66.66 | 11                                                                                                                                                                        
  SidebarContext.tsx            |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  UserContext.tsx               |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/generated                  |   42.55 |      100 |      25 |   42.55 |                                                                                                                                                                           
  graphql.ts                    |   42.55 |      100 |      25 |   42.55 | 1399-1404,1450-1451,1484-1489,1523-1524,1589-1594,1630-1631,1737-1742,1781-1786,1822-1827,1893-1898,1938-1943,1975-1976,2009-2014,2045-2046,2077-2078,2117-2118,2192-2197 
 src/graphql                    |       0 |      100 |     100 |       0 |                                                                                                                                                                           
  getAccountDetail.ts           |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getAccountsByPartialSearch.ts |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getAdminPortalDocument.ts     |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getApplications.ts            |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getPolicies.ts                |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getPolicyDocuments.ts         |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getPolicyInfo.ts              |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getQuotes.ts                  |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getUnderwritingUrl.ts         |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getUser.ts                    |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  getUsersByAgency.ts           |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  isInternalUser.ts             |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  listAgencies.ts               |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
  updateNonRenewalReasons.ts    |       0 |        0 |       0 |       0 |                                                                                                                                                                           
  viewPolicyChanges.ts          |       0 |      100 |     100 |       0 | 3                                                                                                                                                                         
 src/pages/Account              |       0 |        0 |       0 |       0 |                                                                                                                                                                           
  index.tsx                     |       0 |        0 |       0 |       0 | 27-284                                                                                                                                                                    
 src/pages/Dashboard            |   86.36 |    83.33 |   71.42 |   86.36 |                                                                                                                                                                           
  index.tsx                     |   86.36 |    83.33 |   71.42 |   86.36 | 87-109                                                                                                                                                                    
 src/pages/Error                |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  Error.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/pages/Login                |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  AuthProvider.tsx              |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  login.tsx                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/pages/NotFound             |       0 |      100 |       0 |       0 |                                                                                                                                                                           
  NotFound.tsx                  |       0 |      100 |       0 |       0 | 3-4                                                                                                                                                                       
 src/pages/Policy               |   34.86 |    28.38 |   27.58 |      35 |                                                                                                                                                                           
  ActionButtons.tsx             |   85.71 |       95 |      50 |   85.71 | 38,58                                                                                                                                                                     
  COI.tsx                       |    4.16 |        0 |       0 |    4.16 | 16-175                                                                                                                                                                    
  Cancellation.tsx              |   45.77 |    34.23 |   34.37 |   45.77 | 37,139-145,176-185,198-204,225-227,238-260,271-309,320-331,337-353,359-369,375-396,406-419,425,432-435,457-513,539-540                                                    
  GoToUnderwriting.tsx          |    92.3 |      100 |      75 |    92.3 | 68                                                                                                                                                                        
  index.tsx                     |    1.47 |        0 |       0 |    1.49 | 35-299                                                                                                                                                                    
 src/styles                     |   58.44 |    68.51 |      30 |   58.44 |                                                                                                                                                                           
  styledConfig.tsx              |   58.44 |    68.51 |      30 |   58.44 | 116,139-211,218                                                                                                                                                           
 src/utils                      |   98.07 |      100 |     100 |   98.07 |                                                                                                                                                                           
  calTotalPayable.ts            |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  currencyFormat.ts             |       0 |      100 |     100 |       0 | 1                                                                                                                                                                         
  getEnv.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  isJestRunning.ts              |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  timeout.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                                                           
  wrapEmails.ts                 |     100 |      100 |     100 |     100 |                                                                                                                                                                           
 src/utils/hooks                |       0 |      100 |       0 |       0 |                                                                                                                                                                           
  useContactBarHook.ts          |       0 |      100 |       0 |       0 | 5-14                                                                                                                                                                      
--------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Summary of all failing tests
FAIL test/components/NewAccount/NewAccount.test.tsx (22.052 s)
  â— <NewAccount /> â€º Button Functionality â€º should copy URL to clipboard when copy button is clicked

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://test-underwriting-url.com"

    Number of calls: 0

      614 |       await user.click(copyButton);
      615 |
    > 616 |       expect(mockWriteText).toHaveBeenCalledWith(testUrl);
          |                             ^
      617 |       expect(mockAlert).toHaveBeenCalledWith('Application URL copied to clipboard.');
      618 |     });
      619 |

      at Object.<anonymous> (test/components/NewAccount/NewAccount.test.tsx:616:29)

  â— <NewAccount /> â€º Complete User Flows â€º should complete full B2B2C flow with agency and user selection

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://b2b2c-underwriting-url.com"

    Number of calls: 0

      1106 |       // Test Copy URL
      1107 |       await user.click(screen.getByTitle('Copy Application URL'));
    > 1108 |       expect(mockWriteText).toHaveBeenCalledWith(testUrl);
           |                             ^
      1109 |       expect(mockAlert).toHaveBeenCalledWith('Application URL copied to clipboard.');
      1110 |     });
      1111 |

      at Object.<anonymous> (test/components/NewAccount/NewAccount.test.tsx:1108:29)

  â— <NewAccount /> â€º Complete User Flows â€º should complete full B2C flow without agency selection

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://b2c-underwriting-url.com"

    Number of calls: 0

      1165 |
      1166 |       await user.click(screen.getByTitle('Copy Application URL'));
    > 1167 |       expect(mockWriteText).toHaveBeenCalledWith(testUrl);
           |                             ^
      1168 |       expect(mockAlert).toHaveBeenCalledWith('Application URL copied to clipboard.');
      1169 |     });
      1170 |

      at Object.<anonymous> (test/components/NewAccount/NewAccount.test.tsx:1167:29)

  â— <NewAccount /> â€º Complete User Flows â€º should complete enterprise agency flow without user selection

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://enterprise-underwriting-url.com"

    Number of calls: 0

      1241 |
      1242 |       await user.click(screen.getByTitle('Copy Application URL'));
    > 1243 |       expect(mockWriteText).toHaveBeenCalledWith(testUrl);
           |                             ^
      1244 |       expect(mockAlert).toHaveBeenCalledWith('Application URL copied to clipboard.');
      1245 |     });
      1246 |   });

      at Object.<anonymous> (test/components/NewAccount/NewAccount.test.tsx:1243:29)


Test Suites: 1 failed, 36 passed, 37 total
Tests:       4 failed, 505 passed, 509 total
Snapshots:   0 total
Time:        37.513 s
Ran all test suites.
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[34minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.

Exited with code exit status 1

```